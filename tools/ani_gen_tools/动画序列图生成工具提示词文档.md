Vibe Coding 提示词：精灵图自动化处理脚本

项目概述

在这个文档的同路径下，创建一个Python脚本，用于自动化处理AI生成的像素精灵图序列帧，实现白底抠图、自动对位和批量输出功能。

核心需求

1. 输入：一个文件夹，包含多张PNG格式的像素精灵图，背景为纯白色/或纯色
        询问用户输出文件夹名称
2. 处理流程：
   • 批量读取PNG/jpg图片文件

   • 将纯白色背景转换为透明通道

   • 自动裁剪每张图到最小非透明区域

   • 统一所有帧的尺寸，并按照指定对齐方式（底部中心对齐）进行定位

   • 确保动画序列中精灵位置一致，避免跳动

3. 输出：处理后的透明背景PNG序列帧，保存到新文件夹，按顺序命名，统一按输入的顺序命名为01,02,03...

技术规格

功能要求

• 支持批量处理文件夹中的所有PNG/jpg文件

• 白色背景识别可配置阈值（默认RGB > 250）

• 提供多种对齐选项（至少包括底部中心、中心对齐）

• 保持原始图像质量，输出带透明通道的PNG

• 显示处理进度和统计信息

• 用pyqt做一个可视化工具界面，ui设计单独用一个脚本创建。
    界面包括：
    1. 输入文件夹路径选择按钮
    2. 输出文件夹路径选择按钮
    3. 对齐方式下拉选择框（底部中心对齐、中心对齐）
    4. 白色阈值滑动条（0-255）
    5. 开始处理按钮
    6. 进度条和状态标签

代码要求

• 使用Python 3.7+

• 主要依赖：Pillow (PIL Fork) 图像处理库

• 代码结构清晰，模块化设计

• 包含适当的错误处理（文件不存在、图片格式错误等）

• 添加详细的代码注释

• 提供命令行参数支持或配置文件

输入输出

• 输入参数：

  • 输入文件夹路径

  • 输出文件夹路径

  • 对齐方式（可选，默认底部中心）

  • 白色阈值（可选，默认250）

• 输出格式：

  • 统一尺寸的PNG序列帧

  • 文件名格式：frame_001.png, frame_002.png...

  • 每张图都带有透明背景

文件结构建议


sprite_processor/
├── main.py              # 主程序入口
├── ui.py                # pyqt界面设计脚本
├── processor.py         # 核心处理逻辑
├── config.py           # 配置参数
├── utils.py            # 工具函数
└── requirements.txt    # 依赖列表


使用示例

python main.py --input ./raw_frames --output ./processed --alignment bottom_center


注意事项

1. 确保处理纯白色背景的像素精灵图
2. 对齐逻辑要保证动画序列的稳定性
3. 内存管理：处理大尺寸或多数量图片时注意性能
4. 保留原始文件的读取顺序
5. 这个工具无需集成到主程序中，用户可以直接运行ui.py来打开可视化界面。

扩展点

• 支持其他背景颜色抠图（必选）

• 支持多种输出格式
