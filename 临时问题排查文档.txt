临时问题排查与修复记录

问题1：任务完成后在 UI 中直接消失，没有划线
排查结论：
1) 任务列表加载时只读取 pending，导致 completed 任务被过滤。
2) 完成任务后触发归档逻辑，已完成任务被归档并从当前列表剔除。
修复内容：
1) 任务加载改为读取全部状态，并按日期筛选展示。
2) 归档逻辑只归档跨天且未完成的任务，已完成任务保留并显示划线样式。
涉及文件：
- ui\ui_labels.py
- ui\ui_labels_time.py
- ai_tools\ai_task_manager.py

问题2：桌面上有些文件工具查询不到
排查结论：
1) 桌面目录项读取时，个别文件在获取 stat 时异常会被忽略。
2) 按名称查找只支持文件，不支持目录。
修复内容：
1) 读取目录项时允许 stat 失败，仍返回最小可用信息。
2) 名称搜索补充目录匹配能力。
涉及文件：
- ai_files_tools\ai_files_read.py
- ai_files_tools\ai_flies_detailread.py

问题3：常用文件列表中 .exe / .py 无法移除
排查结论：
1) 移除逻辑依赖字符串精确匹配，存在大小写或规范化差异时会移除失败。
修复内容：
1) 移除时统一做路径归一化与大小写归并，再进行匹配移除。
涉及文件：
- ai_files_tools\ai_files_remove.py

问题4：GitHub 操作灵活性不足，出现 404
排查结论：
1) 参数格式不统一时，owner/repo 解析不稳定，导致仓库路径错误。
2) 未显式传入 branch 时默认 main，可能与仓库默认分支不一致。
修复内容：
1) 支持 repo 传入 owner/repo 形式并自动拆分。
2) upload/delete/list 支持常见参数别名（path、repo_path、file_path 等）。
3) 未提供 branch 时默认传空值，使用仓库默认分支。
涉及文件：
- ai_tools\skill_registry.py

修复完成时间：2026-02-24
