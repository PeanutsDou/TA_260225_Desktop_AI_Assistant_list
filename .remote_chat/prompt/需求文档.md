桌面AI助手主动提醒功能开发提示词

一、核心功能目标

为现有远程控制网页系统添加主动提醒功能，使AI助手能基于预定时间或其他触发条件，主动向所有连接的手机网页客户端推送消息提醒，实现类似微信消息推送的体验。

二、技术实现要点

1. 核心模块设计

• 提醒调度器：基于APScheduler的后台任务调度系统，定期扫描需要提醒的任务

• SSE推送增强：扩展现有SSE服务，支持不同类型的提醒事件（任务提醒、系统提醒、即时提醒）

• 网页通知系统：集成浏览器Notification API，支持系统级弹窗提醒

• 提醒管理接口：提供API用于创建、修改、取消提醒

2. 数据模型扩展

• 在现有任务模型基础上增加提醒相关字段（启用状态、提醒时间、重复规则、优先级等）

• 建立提醒日志记录，追踪提醒发送状态和历史

3. 提醒触发场景

• 定时任务提醒：基于任务截止时间提前触发

• 重复提醒：支持每日/每周/每月重复提醒

• 条件触发提醒：基于系统状态或特定事件触发

• 即时测试提醒：用于功能验证的即时提醒

三、文件架构规划


prompt/
├── core/
│   ├── api_server.py              # 主API服务，集成提醒端点
│   ├── reminder_scheduler.py      # 【新增】提醒调度器核心
│   ├── notification_service.py    # 【增强】通知推送服务
│   └── sse_manager.py             # 【增强】SSE连接管理
├── ai_tools/
│   ├── reminder_tools.py          # 【新增】提醒相关技能
│   └── task_tools.py              # 【增强】集成提醒功能
├── web_ui/
│   ├── index.html                 # 【增强】添加提醒管理UI
│   ├── app.js                     # 【增强】SSE事件处理和通知逻辑
│   └── styles.css                 # 【增强】提醒相关样式
├── data/
│   └── tasks.db                   # 【增强】增加提醒字段
├── requirements.txt               # 【新增】apscheduler依赖
└── start_server.py                # 【增强】启动提醒调度器


四、关键开发提示

1. 提醒调度系统

• 使用APScheduler创建后台调度服务

• 每分钟扫描一次待提醒任务

• 支持重复提醒的计算和重新调度

• 调度器应与主应用生命周期绑定

2. SSE推送增强

• 扩展现有SSE端点支持多种事件类型

• 优化客户端连接管理，支持自动重连

• 实现消息优先级处理（高优先级提醒即时发送）

3. 网页通知体验

• 渐进式请求浏览器通知权限

• 根据提醒优先级显示不同样式（图标、振动模式、自动关闭时间）

• 支持通知点击跳转和交互

• 实现离线状态处理和缓存

4. 提醒管理功能

• 提供API端点用于CRUD操作

• 在网页界面添加提醒设置面板

• 显示已安排的提醒列表

• 支持批量操作和导入/导出

五、用户体验优化

• 权限引导：在合适时机请求通知权限，提高授权率

• 多端同步：所有连接的客户端应同时收到提醒

• 智能提醒：基于任务优先级和用户习惯优化提醒时机

• 免打扰模式：支持设置静默时段，避免夜间打扰

六、测试关注点

1. 提醒准时性验证（不同时区处理）
2. 重复提醒逻辑准确性
3. 多客户端并发接收测试
4. 网络中断后的提醒恢复机制
5. 浏览器兼容性测试（不同移动浏览器）

七、部署注意事项

• 确保服务器时区设置正确

• 配置持久化存储，保证调度器重启后提醒不丢失

• 监控SSE连接数和服务器负载

• 设置错误报警机制，监控提醒发送失败情况

八、扩展方向建议

1. 智能提醒优化：基于完成习惯动态调整提醒时间
2. 多渠道通知：集成邮件、短信等备用通知方式
3. 语音提醒：支持TTS语音播报提醒
4. 提醒分析：统计提醒效果，优化提醒策略

按照此提示词逐步实现，将为您的AI助手添加强大的主动提醒能力，提升远程控制体验。